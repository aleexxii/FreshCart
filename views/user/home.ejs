<!DOCTYPE html>
<html lang="en">
   
<!-- Mirrored from freshcart.codescandy.com/pages/index-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Mar 2024 09:07:27 GMT -->
<head>
      <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="Codescandy" name="author">
      <title>FreshCart</title>
      <link href="../libs/tiny-slider/dist/tiny-slider.css" rel="stylesheet" />
      <link href="../libs/slick-carousel/slick/slick.css" rel="stylesheet" />
      <link href="../libs/slick-carousel/slick/slick-theme.css" rel="stylesheet" />
      <!-- Favicon icon-->
<link rel="shortcut icon" type="image/x-icon" href="../images/favicon/favicon.ico">

<!-- LOCATION LINK -->


<!-- Libs CSS -->
<link href="../libs/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet">
<link href="../libs/feather-webfont/dist/feather-icons.css" rel="stylesheet">
<link href="../libs/simplebar/dist/simplebar.min.css" rel="stylesheet">
<style>
   #searchedOutput {
     position: absolute;
     z-index: 3;
     width: 100%;
     background: white;
     border: 1px solid #ddd;
     max-height: 300px;
     overflow-y: scroll;
     overflow-x: hidden;
     top: 32px;
   }

   .search-result-item {
     padding: 10px;
     border-bottom: 1px solid #ddd;
   }

   .search-result-item:hover {
     background: #f7f7f7;
   }

   .search-result-item img {
      width: 50px;
      height: auto;
      max-height: 50px;
    }
    #mapModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #map {
            width: 80%;
            height: 80%;
            background: white;
        }
 </style>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<!-- Theme CSS -->
<link rel="stylesheet" href="../css/theme.min.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M8S4MT3EYG"></script>
<script>
   window.dataLayer = window.dataLayer || [];
   function gtag() {
      dataLayer.push(arguments);
   }
   gtag("js", new Date());

   gtag("config", "G-M8S4MT3EYG");
</script>
 <script type="text/javascript">
   (function (c, l, a, r, i, t, y) {
      c[a] =
         c[a] ||
         function () {
            (c[a].q = c[a].q || []).push(arguments);
         };
      t = l.createElement(r);
      t.async = 1;
      t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0];
      y.parentNode.insertBefore(t, y);
   })(window, document, "clarity", "script", "kuc8w5o9nt");
</script>

   </head>

   <body>
      <!-- navigation -->
<nav class="navbar py-lg-4 py-3 px-0 border-bottom navbar-menu">
	<div class="container-fluid">
		<div class="row w-100 align-items-center g-0 gx-lg-3">
			<div class="col-xxl-9 col-lg-8">
				<div class="d-flex align-items-center">
					
					<a class="navbar-brand d-none d-lg-block ms-4" href="/home">
						<img src="../images/logo/freshcart-logo.svg" alt="eCommerce HTML Template" />
					</a>
					<div class="d-flex w-100 ms-4">
						<form id="searchForm" action="#" class="w-100 d-none d-lg-block">
							<div class="input-group">
								<input class="form-control rounded" oninput="searchInputQuery()" id="searchInput" type="search" placeholder="Search for products" />
                        
								<span class="input-group-append">
                           
									<button id="searchButton" class="btn bg-white border border-start-0 ms-n10 rounded-0 rounded-end" type="submit">
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											viewBox="0 0 24 24"
											fill="none"
											stroke="currentColor"
											stroke-width="2"
											stroke-linecap="round"
											stroke-linejoin="round"
											class="feather feather-search"
										>
											<circle cx="11" cy="11" r="8"></circle>
											<line x1="21" y1="21" x2="16.65" y2="16.65"></line>
										</svg>
									</button>
                           
								</span>
                        
                        <div id="searchedOutput" class="mt-2 rounded">
               
                        </div> 
							</div>
                     
						</form>
                 
					</div>
              
				</div>

           
            <div class="row">
               <div class="col-12">
                   <!-- tab -->
                   <div class="tab-content" id="nav-tabContent">
                       <div class="tab-pane fade show active" id="nav-fruitsandveg" role="tabpanel" aria-labelledby="nav-fruitsandveg-tab" tabindex="0">
                           <!-- row -->
                           <div class="row row-cols-2 row-cols-xl-5 row-cols-md-3 g-4">
                               <!-- Products will be dynamically inserted here -->
                           </div>
                       </div>
                       <!-- Other tab panes if needed -->
                   </div>
               </div>
           </div>
           


				<div class="d-flex justify-content-between w-100 d-lg-none align-items-center">
					<button class="navbar-toggler collapsed" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbar-default2" aria-controls="navbar-default2">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-text-indent-left text-primary" viewBox="0 0 16 16">
							<path
								d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"
							/>
						</svg>
					</button>
					<a class="navbar-brand" href="/home">
						<img src="../images/logo/freshcart-logo.svg" alt="eCommerce HTML Template" />
					</a>
					<div class="d-flex align-items-center lh-1">
						<div class="list-inline me-2">
							<div class="list-inline-item">
								<a href="/account-orders" class="text-muted"  data-bs-target="#userModal">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="20"
										height="20"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-user"
									>
										<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
										<circle cx="12" cy="7" r="4"></circle>
									</svg>
								</a>
							</div>
							<div class="list-inline-item">
								<a class="text-muted position-relative" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button" aria-controls="offcanvasRight">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="20"
										height="20"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-shopping-bag"
									>
										<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
										<line x1="3" y1="6" x2="21" y2="6"></line>
										<path d="M16 10a4 4 0 0 1-8 0"></path>
									</svg>
									<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
										1
										<span class="visually-hidden">unread messages</span>
									</span>
								</a>
							</div>
						</div>
						<!-- Button -->
					</div>
				</div>
			</div>

			<div class="col-xxl-3 col-lg-4 d-flex align-items-center justify-content-end">
				<!-- Button trigger modal -->
				<div class="list-inline d-lg-block d-none">
					<div class="list-inline-item me-5">
						<a href="/wishlist" class="text-reset position-relative">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="feather feather-heart"
							>
								<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
							</svg>
							<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
								5
								<span class="visually-hidden">unread messages</span>
							</span>
						</a>
					</div>

               <div class="list-inline-item me-5">
						<a href="#" class="text-reset" data-bs-toggle="modal" data-bs-target="#locationModal">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="feather feather-map-pin"
							>
								<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
								<circle cx="12" cy="10" r="3"></circle>
							</svg>
						</a>
					</div>	

              
              </div>

					<div class="list-inline-item me-5">
						<a href="/account-orders" class="text-reset">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="feather feather-user"
							>
								<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
								<circle cx="12" cy="7" r="4"></circle>
							</svg>
						</a>
					</div>
					<div class="list-inline-item">
                  <!-- data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"aria-controls="offcanvasRight" -->
						<a class="text-reset position-relative" href="/addToCart" role="button" >
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="feather feather-shopping-bag"
							>
								<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
								<line x1="3" y1="6" x2="21" y2="6"></line>
								<path d="M16 10a4 4 0 0 1-8 0"></path>
							</svg>
							<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
								<%= cartCount %>
								<span class="visually-hidden">unread messages</span>
							</span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
   
</nav>


<!-- Modal -->
<div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered">
       <div class="modal-content">
           <div class="modal-body p-6">
               <div class="d-flex justify-content-between mb-5">
                   <div>
                       <h5 class="mb-1" id="addAddressModalLabel">New Shipping Address</h5>
                       <p class="small mb-0">Add new shipping address for your order delivery.</p>
                   </div>
                   <div>
                       <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                   </div>
               </div>
               <div class="row g-3">
                   <div class="col-12">
                       <input type="text" class="form-control" id="firstname" oninput="addnamevalidation()" placeholder="First name" aria-label="First name" required="" />
                       <span id="firstnameError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="text" class="form-control" id="lastname" oninput="addlastnameValidation()" placeholder="Last name" aria-label="Last name" required="" />
                       <span id="lastnameError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="number" class="form-control" id="phone" oninput="addphoneNumberValidation()" placeholder="Phone no." />
                       <span id="phoneNumberError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="text" class="form-control" id="address" oninput="addaddressValidation()" placeholder="Address" />
                       <span id="addressError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="text" class="form-control" id="state" placeholder="State" />
                   </div>
                   <div class="col-12">
                       <input type="text" class="form-control" id="district" placeholder="District" />
                   </div>
                   <div class="col-12">
                       <input type="text" id="city" class="form-control" oninput="addcityValidation()" placeholder="City" />
                       <span id="cityError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="text" id="pincode" oninput="addpincodeValidation()" class="form-control" placeholder="pin Code" />
                       <span id="pincodeError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                       <input type="text" id="landmark" class="form-control" oninput="addlandmarkValidation()" placeholder="Landmark" />
                       <span id="landmarkError" class="text-danger"></span>
                   </div>
                   <div class="col-12">
                        <button id="location-button" class="btn btn-secondary">Live Location</button>
                   </div>
                   <div class="col-12 text-end">
                        
                       <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
                       <button id="saveBtn" class="btn btn-primary" type="button">Save Address</button>
                   </div>
                   <span id="returnError" class="text-danger"></span>
                   <span id="addressmsg" class="text-success"></span>
               </div>
           </div>
       </div>
   </div>
</div>



      <main>
         <!-- section -->
         <section class="mt-8">
            <div class="container">
               <!-- row -->
               <div class="row">
                  <div class="col-xxl-8 col-xl-7">
                     <!-- hero slider -->
                     <div class="hero-slider">
                        <% banners.forEach(banner => { %>
                         
                        <div style="background: url('../../user/assets/images/bannerImages/<%- banner.backgroundImageUrl %>') no-repeat; background-size: cover; border-radius: 0.5rem">
                           <div class="ps-lg-12 py-lg-16 col-xxl-7 col-lg-9 py-14 px-8 text-xs-center">
                              <!-- badge -->
                              <div class="d-flex align-items-center mb-4">
                                 <span><%- banner.badgeText %></span>
                                 <span class="badge bg-danger ms-2"><%- banner.discountPercentage %>%</span>
                              </div>
                              <!-- title -->
                              <h2 class="text-dark display-5 fw-bold mb-3"><%- banner.title %></h2>
                              <p class="fs-5 text-dark"><%- banner.description %></p>
                              <!-- price -->
                              <div class="mb-4 mt-4">
                                 <span class="text-dark">
                                    Start from
                                    <span class="fs-4 text-danger ms-1">₹<%- banner.startingPrice %></span>
                                 </span>
                              </div>
                              <!-- btn -->
                              <a href="<%- banner.buttonUrl %>" class="btn btn-primary">
                                <%- banner.buttonText %>
                                 <i class="feather-icon icon-arrow-right ms-1"></i>
                              </a>
                           </div>
                        </div>
                        <% }) %>
                     </div>
                  </div>
                  <!-- TOP RIGHT PROMOTION -->
                  <div class="col-xxl-4 col-xl-5 col-12 d-lg-flex d-xl-block gap-3 gap-xl-0">
                     <div class="flex-fill px-8 py-9 mb-6 rounded" style="background: url('../../user/assets/images/promotionImages/<%- topRightPromo.imageUrl %>') no-repeat; background-size: cover">
                        <div>
                          <% 
                          const namePart = topRightPromo.name.split(' '); 
                          const firstParts = namePart.slice(0, namePart.length / 2).join(' ');
                          const secondParts = namePart.slice(namePart.length / 2).join(' ');
                        %>
                           <h3 class="mb-0 fw-bold">
                              <%- firstParts %>
                              <br />
                              <%- secondParts %>
                           </h3>
                           <div class="mt-4 mb-5 fs-5">
                              <p class="mb-0"><%- topRightPromo.description %></p>
                           </div>
                           <br/>
                           <a href="<%- topRightPromo.linkUrl %>" class="btn btn-dark">Shop Now</a>
                        </div>
                     </div>

                     <div class="flex-fill px-8 py-8 rounded" style="background: url('../../user/assets/images/promotionImages/<%- bottomRightPromo.imageUrl %>') no-repeat; background-size: cover">
                        <!-- Banner Content -->
                        <div>
                          <% 
                            const nameParts = bottomRightPromo.name.split(' '); 
                            const firstPart = nameParts.slice(0, nameParts.length / 2).join(' ');
                            const secondPart = nameParts.slice(nameParts.length / 2).join(' ');
                          %>
                           <!-- Banner Content -->
                           <h3 class="fw-bold mb-3">
                            <%- firstPart %><br><%- secondPart %>
                            <br /> 
                           </h3>
                          <% 
                          const descriptions = bottomRightPromo.description.split(' ');
                          const firsPartDescription = descriptions.slice(0, 3).join(' ');
                          const secondPartDescription = descriptions.slice(3).join(' ');
                          %>
                           <div class="mt-4 mb-5 fs-5">
                              <p class="fs-5 mb-0">
                                <%- firsPartDescription %>
                                <br/>
                                <%- secondPartDescription %>
                              </p>
                           </div>

                           <a href="<%- bottomRightPromo.linkUrl %>" class="btn btn-dark">Shop Now</a>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         <!-- section category -->
         <section class="my-lg-14 my-8">
            <div class="container">
               <div class="row">
                  <div class="col-12">
                     <div class="mb-6">
                        <!-- heading    -->
                        <h3 class="mb-0">Shop Popular Categories</h3>
                        <span id="animationIndicator"></span>
                     </div>
                  </div>
                  
                  <div class="row">
                     <% categories.forEach(function(category) { %>
                         <!-- col -->
                         
                         <div class="col-lg-2 col-md-4 col-6 categoryProduct">
                             <div class="text-center mb-10">
                              <a href="/shop-grid/<%= category.categoryName %>">
                                 <!-- img -->
                                 <img src="/user/assets/images/categoryImages/<%= category.image %>" alt="" class="card-image rounded-circle" />
                                 <!-- text -->
                                 <div class="mt-4">
                                    <input value="<%= category.categoryName %>" class="clickedCategory" hidden>
                                     <h5 class="fs-6 mb-0"><a href="/shop-grid/<%= category.categoryName %>" class="text-inherit"><%= category.categoryName %></a></h5>
                                 </div>
                              </a>
                             </div>
                         </div>
                       
                     <% }); %>
                 </div>
                 
               </div>
            </div>
         </section>
         <!-- section -->
         <section class="mb-lg-14 mb-8">
            <div class="container">
               <div class="row">
                  <div class="col-12">
                     <div class="mb-6 d-xl-flex justify-content-between align-items-center">
                        <div class="mb-5 mb-xl-0">
                           <h3 class="mb-0">New Products</h3>
                           <p class="mb-0">New products with updated stocks</p>
                        </div>
                        <div>
                           <nav>
                              <ul class="nav nav-pills nav-scroll border-bottom-0 gap-1" id="nav-tab" role="tablist">
                                 <li class="nav-item">
                                    <a href="#" class="nav-link active filteredProduct" data-category="Fruits & Vegetables">Fruits & Vegetables</a>
                                 </li>
                                 <li class="nav-item">
                                    <a href="#" class="nav-link filteredProduct" data-category="Snack & Munchies">Snack & Munchies</a>
                                 </li>
                                 <li class="nav-item">
                                    <a href="#" class="nav-link filteredProduct" data-category="Bakery & Biscuits">Bakery & Biscuits</a>
                                 </li>
                                 <li class="nav-item">
                                    <a href="#" class="nav-link filteredProduct" data-category="Tea, Coffee & Drinks">Tea, Coffee & Drinks</a>
                                 </li>
                                 <li class="nav-item">
                                    <a href="#" class="nav-link filteredProduct" data-category="Cold Drinks & Juices">Cold Drinks & Juices</a>
                                 </li>
                              </ul>
                           </nav>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-12">
                      <!-- tab -->
                      <div class="tab-content" id="nav-tabContent">
                          <div class="tab-pane fade show active" id="nav-fruitsandveg" role="tabpanel" aria-labelledby="nav-fruitsandveg-tab" tabindex="0">
                              <!-- row -->
                              <div class="row row-cols-2 row-cols-xl-5 row-cols-md-3 g-4" id="product-container">
                                  <!-- Product container for dynamically added products -->
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              
            </div>
         </section>
         
         <section>
            <div class="container">
               <div class="row">
                  <div class="col-12">
                     <div class="mb-4 bg-light d-lg-flex justify-content-between align-items-center rounded">
                        <div class="p-10">
                           <h2 class="mb-1 fw-bold">One Stop Grocery Shop</h2>
                           <p class="mb-0 lead">
                              Shopping for your furry friend? Find food,
                              <br />
                              treats, and more in one easy spot.
                           </p>
                           <!-- <a href="#" class="btn btn-dark mt-5">Get Discount on Share</a> -->
                        </div>
                        <div class="p-6 d-lg-block d-none"><img src="../images/svg-graphics/store-graphics.svg" alt="" class="img-fluid" /></div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         
         <section class="my-lg-14 my-8">
            <div class="container">
               <div class="row">
                  <div class="col-12 mb-6">
                     <h3 class="mb-1">Bestselling Products</h3>
                     <!-- <p class="mb-0">Find the bestseller products in your area with discount.</p> -->
                  </div>
               </div>
               <div class="product-slider">
                  

                 

                  <% bestSellingProducts.forEach(product => { %>
                  
                  <div class="item">
                     <!-- card -->
                     
                     <div class="card card-product h-100">
                        <div class="card-body position-relative">
                           <div class="text-center position-relative">
                              <div class="position-absolute top-0 start-0">
                                 <span class="badge bg-danger">Sale</span>
                              </div>
                              <!-- img -->
                              <a href="#!"><img src="../../user/assets/images/productImages/<%- product.productDetails[0].image[0] %>" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" /></a>
                              <!-- action btn -->
                              <div class="product-action-btn">
                                 <a href="#!" class="btn-action mb-1" data-bs-toggle="modal" data-bs-target="#quickViewModal">
                                    <i class="bi bi-eye" data-bs-toggle="tooltip" data-bs-html="true" title="Quick View"></i>
                                 </a>
                                 <a href="shop-wishlist.html" class="btn-action mb-1" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart"></i></a>
                                 <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                              </div>
                           </div>
                           <!-- title -->
                           <h2 class="fs-6"><a href="#!" class="text-inherit text-decoration-none"><%- product.productDetails[0].productName %></a></h2>
                           <div>
                              <!-- rating -->
                              <small class="text-warning">
                                 <i class="bi bi-star-fill"></i>
                                 <i class="bi bi-star-fill"></i>
                                 <i class="bi bi-star-fill"></i>
                                 <i class="bi bi-star-fill"></i>
                                 <i class="bi bi-star-half"></i>
                              </small>
                              <span class="text-muted small">4.5(149)</span>
                           </div>
                           <!-- price -->
                           <div class="d-flex justify-content-between align-items-center mt-3">
                              <div>
                                 <span class="text-danger">₹<%- product.productDetails[0].salePrice %></span>
                                 <span class="text-decoration-line-through text-muted">₹<%- product.productDetails[0].regularPrice %></span>
                              </div>
                              <div><span class="text-uppercase small text-primary">In Stock</span></div>
                           </div>
                           <div>
                              <!-- btn -->
                              <div class="d-grid mt-4">
                                 <a href="#" class="btn btn-primary rounded-pill">Add to Cart</a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <% }) %>
                  
               </div>
            </div>
         </section>
         <!-- section cta -->
         <section class="bg-dark" style="background: url(../images/svg-graphics/pattern.svg) no-repeat; background-size: cover; background-position: center">
            <div class="container">
               <!-- row -->
               <div class="row">
                  <div class="offset-lg-1 col-lg-10">
                     <div class="row align-items-center">
                        <!-- col -->
                        <div class="col-md-6">
                           <div class="text-white mt-8 mt-lg-0">
                              <span>$30 discount for your first order</span>
                              <h2 class="h2 text-white my-4">Get top deals, latest trends, and more.</h2>
                              <p class="text-white-50">Join our email subscription now to get updates on promotions and coupons.</p>
                              <!-- form -->
                              <form class="row g-3 needs-validation" novalidate>
                                 <div class="col-6">
                                    <!-- input -->
                                    <label for="emailAddress" class="form-label visually-hidden">Email Address</label>
                                    <input type="email" class="form-control" id="emailAddress" placeholder="Enter Email Address" required />
                                    <div class="invalid-feedback">Please enter email.</div>
                                 </div>
                                 <!-- btn -->
                                 <div class="col-auto">
                                    <button type="submit" class="btn btn-primary mb-3">Sign Up</button>
                                 </div>
                              </form>
                           </div>
                        </div>
                        <!-- col -->
                        <div class="col-md-6">
                           <div class="text-center">
                              <!-- img -->
                              <img src="../images/png/girl-email.png" alt="" class="img-fluid" />
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </main>

      <!-- modal -->
      <!-- Modal -->
<div class="modal fade" id="quickViewModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body p-8">
        <div class="position-absolute top-0 end-0 me-3 mt-3">
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <!-- img slide -->
            <div class="product productModal" id="productModal">
              <div
                class="zoom"
                onmousemove="zoom(event)"
                style="
                  background-image: url(../images/products/product-single-img-1.jpg);
                "
              >
                <!-- img -->
                <img
                  src="../images/products/product-single-img-1.jpg"
                  alt=""
            >
              </div>
              <div>
                <div
                  class="zoom"
                  onmousemove="zoom(event)"
                  style="
                    background-image: url(../images/products/product-single-img-2.jpg);
                  "
                >
                  <!-- img -->
                  <img
                    src="../images/products/product-single-img-2.jpg"
                    alt=""
              >
                </div>
              </div>
              <div>
                <div
                  class="zoom"
                  onmousemove="zoom(event)"
                  style="
                    background-image: url(../images/products/product-single-img-3.jpg);
                  "
                >
                  <!-- img -->
                  <img
                    src="../images/products/product-single-img-3.jpg"
                    alt=""
              >
                </div>
              </div>
              <div>
                <div
                  class="zoom"
                  onmousemove="zoom(event)"
                  style="
                    background-image: url(../images/products/product-single-img-4.jpg);
                  "
                >
                  <!-- img -->
                  <img
                    src="../images/products/product-single-img-4.jpg"
                    alt=""
              >
                </div>
              </div>
            </div>
            <!-- product tools -->
            <div class="product-tools">
              <div class="thumbnails row g-3" id="productModalThumbnails">
                <div class="col-3" class="tns-nav-active">
                  <div class="thumbnails-img">
                    <!-- img -->
                    <img
                      src="../images/products/product-single-img-1.jpg"
                      alt=""
                >
                  </div>
                </div>
                <div class="col-3">
                  <div class="thumbnails-img" >
                    <!-- img -->
                    <img
                      src="../images/products/product-single-img-2.jpg"
                      alt=""
                >
                  </div>
                </div>
                <div class="col-3">
                  <div class="thumbnails-img">
                    <!-- img -->
                    <img
                      src="../images/products/product-single-img-3.jpg"
                      alt=""
                >
                  </div>
                </div>
                <div class="col-3">
                  <div class="thumbnails-img">
                    <!-- img -->
                    <img
                      src="../images/products/product-single-img-4.jpg"
                      alt=""
                >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="ps-lg-8 mt-6 mt-lg-0">
              <a href="#!" class="mb-4 d-block">Bakery Biscuits</a>
              <h2 class="mb-1 h1">Napolitanke Ljesnjak</h2>
              <div class="mb-4">
                <small class="text-warning">
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-half"></i></small
                ><a href="#" class="ms-2">(30 reviews)</a>
              </div>
              <div class="fs-4">
                <span class="fw-bold text-dark">$32</span>
                <span class="text-decoration-line-through text-muted">$35</span
                ><span
                  ><small class="fs-6 ms-2 text-danger">26% Off</small></span
                >
              </div>
              <hr class="my-6">
              <div class="mb-4">
                <button type="button" class="btn btn-outline-secondary">
                  250g
                </button>
                <button type="button" class="btn btn-outline-secondary">
                  500g
                </button>
                <button type="button" class="btn btn-outline-secondary">
                  1kg
                </button>
              </div>
              <div>
                <!-- input -->
                <!-- input -->
                <div class="input-group input-spinner  ">
                  <input type="button" value="-" class="button-minus  btn  btn-sm " data-field="quantity">
                  <input type="number" step="1" max="10" value="1" name="quantity" class="quantity-field form-control-sm form-input   ">
                  <input type="button" value="+" class="button-plus btn btn-sm " data-field="quantity">
                </div>
              </div>
              <div
                class="mt-3 row justify-content-start g-2 align-items-center"
              >

                <div class="col-lg-4 col-md-5 col-6 d-grid">
                  <!-- button -->
                  <!-- btn -->
                  <button type="button" class="btn btn-primary">
                    <i class="feather-icon icon-shopping-bag me-2"></i>Add to
                    cart
                  </button>
                </div>
                <div class="col-md-4 col-5">
                  <!-- btn -->
                  <a
                    class="btn btn-light"
                    href="#"
                    data-bs-toggle="tooltip"
                    data-bs-html="true"
                    aria-label="Compare"
                    ><i class="bi bi-arrow-left-right"></i
                  ></a>
                  <a
                    class="btn btn-light"
                    href="#!"
                    data-bs-toggle="tooltip"
                    data-bs-html="true"
                    aria-label="Wishlist"
                    ><i class="feather-icon icon-heart"></i
                  ></a>
                </div>
              </div>
              <hr class="my-6">
              <div>
                <table class="table table-borderless">
                  <tbody>
                    <tr>
                      <td>Product Code:</td>
                      <td>FBB00255</td>
                    </tr>
                    <tr>
                      <td>Availability:</td>
                      <td>In Stock</td>
                    </tr>
                    <tr>
                      <td>Type:</td>
                      <td>Fruits</td>
                    </tr>
                    <tr>
                      <td>Shipping:</td>
                      <td>
                        <small
                          >01 day shipping.<span class="text-muted"
                            >( Free pickup today)</span
                          ></small
                        >
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cart added toast -->

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
   <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
     <div class="toast-header">
       <img src="../../user/assets/images/logo/freshcart-logo.svg" class="rounded me-2" alt="...">
       <strong class="me-auto"></strong>
       <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
     </div>
     <div class="toast-body">
       Hello, Product added to your cart.
     </div>
   </div>
 </div>
      <!-- Footer -->
      <!-- footer -->
<footer class="footer">
  <div class="container">
    <div class="row g-4 py-4">
      <div class="col-12 col-md-12 col-lg-4">
        <h6 class="mb-4">Categories</h6>
        <div class="row">
          <div class="col-6">
            <!-- list -->
            <ul class="nav flex-column">
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Vegetables & Fruits</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Breakfast & instant food</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Bakery & Biscuits</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Atta, rice & dal</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Sauces & spreads</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Organic & gourmet</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Baby care</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Cleaning essentials</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Personal care</a></li>
            </ul>
          </div>
          <div class="col-6">
              <!-- list -->
            <ul class="nav flex-column">
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Dairy, bread & eggs</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Cold drinks & juices</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Tea, coffee & drinks</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Masala, oil & more</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Chicken, meat & fish</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Paan corner</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link"> Pharma & wellness</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Home & office</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Pet care</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-12 col-lg-8">
        <div class="row g-4">
          <div class="col-6 col-sm-6 col-md-3">
            <h6 class="mb-4">Get to know us</h6>
              <!-- list -->
            <ul class="nav flex-column">
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Company</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">About</a></li>
              <li class="nav-item mb-2"><a href="#1" class="nav-link">Blog</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Help Center</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Our Value</a></li>
            </ul>
          </div>
          <div class="col-6 col-sm-6 col-md-3">
            <h6 class="mb-4">For Consumers</h6>
            <ul class="nav flex-column">
                  <!-- list -->
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Payments</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Shipping</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Product Returns</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">FAQ</a></li>
              <li class="nav-item mb-2"><a href="shop-checkout.html" class="nav-link">Shop Checkout</a></li>
            </ul>
          </div>
          <div class="col-6 col-sm-6 col-md-3">
            <h6 class="mb-4">Become a Shopper</h6>
            <ul class="nav flex-column">
                <!-- list -->
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Shopper Opportunities</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Become a Shopper</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Earnings</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Ideas & Guides</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">New Retailers</a></li>
            </ul>
          </div>
          <div class="col-6 col-sm-6 col-md-3">
            <h6 class="mb-4">Freshcart programs</h6>
            <ul class="nav flex-column">
                <!-- list -->
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Freshcart programs</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Gift Cards</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Promos & Coupons</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Freshcart Ads</a></li>
              <li class="nav-item mb-2"><a href="#!" class="nav-link">Careers</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="border-top py-4">
      <div class="row align-items-center">
        <div class="col-lg-5 text-lg-start text-center mb-2 mb-lg-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item text-dark">Payment Partners</li>
            <li class="list-inline-item">
              <a href="#!"><img src="../images/payment/amazonpay.svg" alt=""></a>
            </li>
            <li class="list-inline-item">
              <a href="#!"><img src="../images/payment/american-express.svg" alt=""></a>
            </li>
            <li class="list-inline-item">
              <a href="#!"><img src="../images/payment/mastercard.svg" alt=""></a>
            </li>
            <li class="list-inline-item">
              <a href="#!"><img src="../images/payment/paypal.svg" alt=""></a>
            </li>
            <li class="list-inline-item">
              <a href="#!"><img src="../images/payment/visa.svg" alt=""></a>
            </li>
          </ul>
        </div>
        <div class="col-lg-7 mt-4 mt-md-0">
          <ul class="list-inline mb-0 text-lg-end text-center">
            <li class="list-inline-item mb-2 mb-md-0 text-dark">Get deliveries with FreshCart</li>
            <li class="list-inline-item ms-4">
              <a href="#!"> <img src="../images/appbutton/appstore-btn.svg" alt=""
                  style="width: 140px;"></a></li>
            <li class="list-inline-item">
              <a href="#!"> <img src="../images/appbutton/googleplay-btn.svg" alt=""
                  style="width: 140px;"></a></li>
          </ul>
        </div>
      </div>

    </div>
    <div class="border-top py-4">
      <div class="row align-items-center">
        <div class="col-md-6"><span class="small text-muted">© 2022 <span id="copyright"> -
          <script>document.getElementById('copyright').appendChild(document.createTextNode(new Date().getFullYear()))</script>
      </span>FreshCart eCommerce HTML Template.  All rights reserved. Powered by <a href="https://codescandy.com/">Codescandy</a>.</span></div>
        <div class="col-md-6">
          <ul class="list-inline text-md-end mb-0 small mt-3 mt-md-0">
            <li class="list-inline-item text-muted">Follow us on</li>
            <li class="list-inline-item me-1">
              <a href="#!" class="btn btn-xs btn-social btn-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-facebook" viewBox="0 0 16 16">
                  <path
                    d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
                </svg></a></li>
            <li class="list-inline-item me-1">
              <a href="#!" class="btn btn-xs btn-social btn-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-twitter" viewBox="0 0 16 16">
                  <path
                    d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                </svg></a></li>
            <li class="list-inline-item">
              <a href="#!" class="btn btn-xs btn-social btn-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-instagram" viewBox="0 0 16 16">
                  <path
                    d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" />
                </svg></a></li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</footer>

   <script>
      document.addEventListener('DOMContentLoaded', function() {
         const navLinks = document.querySelectorAll('.filteredProduct');
         const productContainer = document.getElementById('product-container');

         navLinks.forEach(link => {
            link.addEventListener('click', function(event) {
                  event.preventDefault();
                  const category = this.getAttribute('data-category');
                  fetchProducts(category);
            });
         });

         async function fetchProducts(category) {
            try {
                  const response = await fetch(`/products/${category}`);
                  if (!response.ok) throw new Error('Network response was not ok');
                  const products = await response.json();
                  updateProductDisplay(products);
            } catch (error) {
                  console.error('Fetch error:', error);
            }
         }

         function updateProductDisplay(products) {
            productContainer.innerHTML = ''; // Clear previous products

            products.forEach(product => {
                  const productDiv = document.createElement('div');
                  productDiv.classList.add('col', 'productDiv');
                  productDiv.innerHTML = `
                     <div class="card card-product-v2 h-100">
                        <div class="card-body position-relative">
                              <div class="text-center position-relative">
                                 <div class="position-absolute top-0 start-0">
                                    <span class="badge bg-danger">Sale</span>
                                 </div>
                                 <a href="./product-list/${product._id}"><img src="/user/assets/images/productImages/${product.image[0]}" alt="${product.productName}" class="mb-3 img-fluid" /></a>
                                 <div class="product-action-btn">
                                    <a href="#!" class="btn-action mb-1" data-bs-toggle="modal" data-bs-target="#quickViewModal"><i class="bi bi-eye"></i></a>
                                    <a class="btn-action mb-1" id="wishlistIcon" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart" id="heartIcon"></i></a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                                 </div>
                              </div>
                              <h2 class="fs-6"><a href="#!" class="text-inherit text-decoration-none">${product.productName}</a></h2>
                              <div>
                                 <small class="text-warning">
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-half"></i>
                                 </small>
                                 <span class="text-muted small">4.5(149)</span>
                              </div>
                              <div class="d-flex justify-content-between align-items-center mt-3">
                                 <div>
                                    <span class="text-danger">₹${product.salePrice}</span>
                                    <span class="text-decoration-line-through text-muted">₹${product.regularPrice}</span>
                                 </div>
                                 <div>
                                    <span class="text-uppercase small ${product.stockKeepingUnit === 0 ? 'text-danger' : 'text-primary'} outofStock">${product.stockKeepingUnit === 0 ? 'Out Of Stock' : 'In Stock'}</span>
                                 </div>
                              </div>
                              <div class="product-fade-block">
                                 <input class="productId" value="${product._id}" hidden>
                                 <div class="d-grid mt-4">
                                    <a class="btn btn-primary rounded-pill addToCartBtn" id="liveToastBtn">Add to Cart</a>
                                 </div>
                              </div>
                        </div>
                        <div class="product-content-fade border-info" style="margin-bottom: -60px"></div>
                     </div>
                  `;
                  productContainer.appendChild(productDiv);
            });

            attachWishlistListeners();
            attachAddToCartListeners();
         }
         function attachWishlistListeners() {
        const productDivs = document.querySelectorAll('.productDiv');
        productDivs.forEach(productCard => {
            productCard.querySelector('#wishlistIcon').addEventListener('click', async () => {
                const productId = productCard.querySelector('.productId').value;
                console.log('clicked', productId);
                const response = await fetch('/wishlist', {
                    method: 'post',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ productId })
                });
                if (!response.ok) {
                    throw new Error('Something went wrong while adding to wishlist');
                }
                const data = await response.json();
                const heartIcon = productCard.querySelector('#heartIcon');
                if (data.message === 'product added') {
                    heartIcon.classList.remove('bi-heart', 'bi');
                    heartIcon.classList.add('bi', 'bi-heart-fill', 'heart-color-added');
                }
                if (data.message === 'already exists') {
                    heartIcon.classList.remove('bi-heart-fill', 'bi', 'heart-color-added');
                    heartIcon.classList.add('bi', 'bi-heart');
                }
            });
        });
    }

    function attachAddToCartListeners() {
        const addToCartBtns = document.querySelectorAll(".addToCartBtn");
        addToCartBtns.forEach((btn) => {
            btn.addEventListener("click", async function () {
                console.log("clicked");
                const productId = btn.parentNode.previousElementSibling.value;
                console.log('productId :', productId);
                var toast = new bootstrap.Toast(document.getElementById("liveToast"));

                try {
                    const response = await fetch(`/addToCart/${productId}`, {
                        method: "post",
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP error ${response.status}`);
                    }

                    const data = await response.json();
                    if (data.message) {
                        toast.show();
                    }

                } catch (error) {
                    console.error("Error:", error);
                }
            });
        });
    }

    // Fetch the default category on page load
    fetchProducts('Fruits & Vegetables');
      });

      
   </script>

      <!-- live location -->
      <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
      <!-- Javascript-->
      <script src="../../user/assets/js/wishlist.js"></script>
      <script src="../../user/assets/js/home.js"></script>
      <script src="../../user/assets/js/shopGrid.js"></script>
      <script src="../../user/assets/js/liveLocation.js"></script>
      
      <!-- Libs JS -->
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script src="../libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
      <script src="../libs/simplebar/dist/simplebar.min.js"></script>

<!-- Theme JS -->
      <script src="../js/theme.min.js"></script>
      <script src="../js/vendors/jquery.min.js"></script>
      <script src="../libs/slick-carousel/slick/slick.min.js"></script>
      <script src="../js/vendors/slick-slider.js"></script>
      <script src="../libs/tiny-slider/dist/min/tiny-slider.js"></script>
      <script src="../js/vendors/tns-slider.js"></script>
      <script src="../js/vendors/zoom.js"></script>
      <script src="../js/vendors/validation.js"></script>
   </body>

<!-- Mirrored from freshcart.codescandy.com/pages/index-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Mar 2024 09:07:32 GMT -->
</html>
